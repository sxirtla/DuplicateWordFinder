{"ts":1370630157521,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1370630324104,"patch":[[{"diffs":[[1,"<?php\n\n/**\n * Finds duplicate words in string and counts them\n *\n * @author Altrix <altrix5@yahoo.com>\n */\nclass DuplicateWordFinder {\n\n    protected $minWordLength = 2;\n\n    public function setMinWordLength( $minWordLength ) {\n\t\t$minWordLength = intval( $minWordLength );\n\t\tif ( $minWordLength < 1 ) {\n\t\t\t$minWordLength = 1;\n\t\t}\n\t\t$this->minWordLength = $minWordLength;\n\t}\n\n\tpublic function dupWords( $str, $remove = false ) {\n\t\t$dups = array();\n\t\t$regex = '/(^|\\s)([.\\S]{' . $this->minWordLength . ',})\\b.+?\\2\\b/ixs';\n\n\t\t//find duplicate words with regular Expression\n\t\twhile ( preg_match_all( $regex, $str, $matches ) ) {\n\t\t\t//write values as new array keys and fill the value with 'false'\n\t\t\t$words = array_fill_keys( $matches[2], false );\n\t\t\t$dups = array_merge( $dups, $words );\n\t\t\tforeach ( $dups as $k => $v ) {\n\t\t\t\tif ( !$v ) { //if $v is false than we have not searched yet\n\t\t\t\t\t$str = preg_replace( \"/(^|\\s)\" . preg_quote( $k, '/' ) . \"\\b/i\", \"\", $str, -1, $count ); //search string and remove all duplicates\n\t\t\t\t\tif ( $count ) {\n\t\t\t\t\t\t$dups[$k] = $count; //create duplicates list, with count number\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunset( $dups[$k] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif ( $remove ) {\n\t\t\t//if remove is true we should return text\n\t\t\treturn $this->_removeDuplicates( $str );\n\t\t}\n\t\tarsort( $dups ); //sort most freaquent first\n\t\treturn $dups;\n\t}\n\n\tprivate function _removeDuplicates( $str ) {\n\t\t//TODO: needs to be implemented\n\t\treturn $str;\n\t}\n}"]],"start1":0,"start2":0,"length1":0,"length2":1451}]],"length":1451,"saved":false}
{"ts":1370631671147,"patch":[[{"diffs":[[0,"hor "],[-1,"Altrix"],[1,"Sxirtla"],[0," <al"]],"start1":72,"start2":72,"length1":14,"length2":15}]],"length":1452,"saved":false}
{"ts":1370631677393,"patch":[[{"diffs":[[0,"la <"],[-1,"altrix5@yahoo"],[1,"sxirtla@"],[0,".com"]],"start1":81,"start2":81,"length1":21,"length2":16}]],"length":1447,"saved":false}
{"ts":1370631679355,"patch":[[{"diffs":[[0,"sxirtla@"],[1,"gmail"],[0,".com>\n *"]],"start1":85,"start2":85,"length1":16,"length2":21}]],"length":1452,"saved":false}
